<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matthew Robinson">

<title>ds2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="ds2_files/libs/clipboard/clipboard.min.js"></script>
<script src="ds2_files/libs/quarto-html/quarto.js"></script>
<script src="ds2_files/libs/quarto-html/popper.min.js"></script>
<script src="ds2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ds2_files/libs/quarto-html/anchor.min.js"></script>
<link href="ds2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ds2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ds2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ds2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ds2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ds2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Matthew Robinson </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ lubridate 1.9.3     ✔ tibble    3.2.1
✔ purrr     1.0.2     ✔ tidyr     1.3.1
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nycflights13)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="section-3.7.1" class="level1">
<h1>Section 3.7.1</h1>
</section>
<section id="exercise-2" class="level1">
<h1>Exercise 2</h1>
<p>What does geom_col() do?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">y =</span> depth))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The geom_bar() function creates a bar chart with the specified x and y values.<br>
How is it different to geom_bar()?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The geom_bar function does not require a y value and defaults to count.</p>
</section>
<section id="exercise-5" class="level1">
<h1>Exercise 5</h1>
<p>In our proportion bar chart, we need to set group = 1. Why? In other words what is the problem with these two graphs?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">y =</span> <span class="fu">after_stat</span>(prop)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">fill =</span> color, <span class="at">y =</span> <span class="fu">after_stat</span>(prop)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The above graphs are are being graphed based on count as opposed to proportion.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">y =</span> <span class="fu">after_stat</span>(prop), <span class="at">group =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>For the first graph, you must add the “group = 1” command as shown above to get the correct graph.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">fill =</span> color, <span class="at">y =</span> <span class="fu">after_stat</span>(prop), <span class="at">group =</span> color))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>For the second graph, you must add the “group = color” command as shown above to get the correct graph.</p>
</section>
<section id="section-3.8.1" class="level1">
<h1>Section 3.8.1</h1>
</section>
<section id="exercise-1" class="level1">
<h1>Exercise 1</h1>
<p>What is the problem with this plot?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cty, <span class="at">y =</span> hwy)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Many of the points on the above plot overlap each other which makes it hard to see where most of the data is.<br>
How could you improve it?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cty, <span class="at">y =</span> hwy)) <span class="sc">+</span> <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This can be improved by using geom_jitter instead of geom_point as shown above.</p>
</section>
<section id="exercise-3" class="level1">
<h1>Exercise 3</h1>
<p>Compare and contrast geom_jitter() with geom_count().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cty, <span class="at">y =</span> hwy)) <span class="sc">+</span> <span class="fu">geom_jitter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The geom_jitter function scatters the points, so they do not overlap.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cty, <span class="at">y =</span> hwy)) <span class="sc">+</span> <span class="fu">geom_count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The geom_count function makes the points bigger when there are multiple points in the same place.</p>
</section>
<section id="section-3.9.1" class="level1">
<h1>Section 3.9.1</h1>
</section>
<section id="exercise-1-1" class="level1">
<h1>Exercise 1</h1>
<p>Turn a stacked bar chart into a pie chart using coord_polar().</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">fill =</span> cut), <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The coord_flip() command is used to create a stacked bar chart.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamonds) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">fill =</span> cut), <span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">coord_polar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The coord_polar command is used to create a pie chart.</p>
</section>
<section id="exercise-4" class="level1">
<h1>Exercise 4</h1>
<p>What does the plot below tell you about the relationship between city and highway mpg?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cty, <span class="at">y =</span> hwy)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_abline</span>() <span class="sc">+</span> <span class="fu">coord_fixed</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Highway mpg is generally better than city mpg.<br>
Why is coord_fixed() important?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cty, <span class="at">y =</span> hwy)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_abline</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The coord_fixed() function keeps ensures that x and y values are the same distance apart on each axis.<br>
What does geom_abline() do?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> cty, <span class="at">y =</span> hwy)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">coord_fixed</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ds2_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The geom_abline() function adds a line that shows the trend of the data.</p>
</section>
<section id="exercise-5.2.4" class="level1">
<h1>Exercise 5.2.4</h1>
</section>
<section id="exercise-1-2" class="level1">
<h1>Exercise 1</h1>
<p>Find all flights that had an arrival delay of two or more hours.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(flights, arr_delay <span class="sc">&gt;=</span> <span class="dv">120</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10,200 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      811            630       101     1047            830
 2  2013     1     1      848           1835       853     1001           1950
 3  2013     1     1      957            733       144     1056            853
 4  2013     1     1     1114            900       134     1447           1222
 5  2013     1     1     1505           1310       115     1638           1431
 6  2013     1     1     1525           1340       105     1831           1626
 7  2013     1     1     1549           1445        64     1912           1656
 8  2013     1     1     1558           1359       119     1718           1515
 9  2013     1     1     1732           1630        62     2028           1825
10  2013     1     1     1803           1620       103     2008           1750
# ℹ 10,190 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Find all flights that flew to Houston (IAH or HOU).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(flights, dest <span class="sc">==</span> <span class="st">"IAH"</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">"HOU"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9,313 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      623            627        -4      933            932
 4  2013     1     1      728            732        -4     1041           1038
 5  2013     1     1      739            739         0     1104           1038
 6  2013     1     1      908            908         0     1228           1219
 7  2013     1     1     1028           1026         2     1350           1339
 8  2013     1     1     1044           1045        -1     1352           1351
 9  2013     1     1     1114            900       134     1447           1222
10  2013     1     1     1205           1200         5     1503           1505
# ℹ 9,303 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Find all flights that were operated by United, American, or Delta.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(flights, carrier <span class="sc">==</span> <span class="st">"UA"</span> <span class="sc">|</span> carrier <span class="sc">==</span> <span class="st">"AA"</span> <span class="sc">|</span> carrier <span class="sc">==</span> <span class="st">"DL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 139,504 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      554            600        -6      812            837
 5  2013     1     1      554            558        -4      740            728
 6  2013     1     1      558            600        -2      753            745
 7  2013     1     1      558            600        -2      924            917
 8  2013     1     1      558            600        -2      923            937
 9  2013     1     1      559            600        -1      941            910
10  2013     1     1      559            600        -1      854            902
# ℹ 139,494 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Find all flights that departed in summer (July, August, and September).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(flights, month <span class="sc">==</span> <span class="dv">7</span> <span class="sc">|</span> month <span class="sc">==</span> <span class="dv">8</span> <span class="sc">|</span> month <span class="sc">==</span> <span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 86,326 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     7     1        1           2029       212      236           2359
 2  2013     7     1        2           2359         3      344            344
 3  2013     7     1       29           2245       104      151              1
 4  2013     7     1       43           2130       193      322             14
 5  2013     7     1       44           2150       174      300            100
 6  2013     7     1       46           2051       235      304           2358
 7  2013     7     1       48           2001       287      308           2305
 8  2013     7     1       58           2155       183      335             43
 9  2013     7     1      100           2146       194      327             30
10  2013     7     1      100           2245       135      337            135
# ℹ 86,316 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Find all flights that arrived more than two hours late, but didn’t leave late.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(flights, arr_delay <span class="sc">&gt;</span> <span class="dv">120</span> <span class="sc">&amp;</span> dep_delay <span class="sc">&lt;=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 29 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1    27     1419           1420        -1     1754           1550
 2  2013    10     7     1350           1350         0     1736           1526
 3  2013    10     7     1357           1359        -2     1858           1654
 4  2013    10    16      657            700        -3     1258           1056
 5  2013    11     1      658            700        -2     1329           1015
 6  2013     3    18     1844           1847        -3       39           2219
 7  2013     4    17     1635           1640        -5     2049           1845
 8  2013     4    18      558            600        -2     1149            850
 9  2013     4    18      655            700        -5     1213            950
10  2013     5    22     1827           1830        -3     2217           2010
# ℹ 19 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Find all flights that were delayed by at least an hour, but made up over 30 minutes in flight.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(flights, dep_delay <span class="sc">&gt;=</span> <span class="dv">60</span> <span class="sc">&amp;</span> arr_delay <span class="sc">&lt;=</span> dep_delay <span class="sc">-</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,074 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1     1716           1545        91     2140           2039
 2  2013     1     1     2205           1720       285       46           2040
 3  2013     1     1     2326           2130       116      131             18
 4  2013     1     3     1503           1221       162     1803           1555
 5  2013     1     3     1821           1530       171     2131           1910
 6  2013     1     3     1839           1700        99     2056           1950
 7  2013     1     3     1850           1745        65     2148           2120
 8  2013     1     3     1923           1815        68     2036           1958
 9  2013     1     3     1941           1759       102     2246           2139
10  2013     1     3     1950           1845        65     2228           2227
# ℹ 2,064 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Find all flights that departed between midnight and 6am (inclusive).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(flights, dep_time <span class="sc">&lt;=</span> <span class="dv">600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9,344 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# ℹ 9,334 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
</section>
<section id="exercise-3-1" class="level1">
<h1>Exercise 3</h1>
<p>How many flights have a missing dep_time? What other variables are missing? What might these rows represent?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(flights, <span class="fu">is.na</span>(dep_time))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8,255 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1       NA           1630        NA       NA           1815
 2  2013     1     1       NA           1935        NA       NA           2240
 3  2013     1     1       NA           1500        NA       NA           1825
 4  2013     1     1       NA            600        NA       NA            901
 5  2013     1     2       NA           1540        NA       NA           1747
 6  2013     1     2       NA           1620        NA       NA           1746
 7  2013     1     2       NA           1355        NA       NA           1459
 8  2013     1     2       NA           1420        NA       NA           1644
 9  2013     1     2       NA           1321        NA       NA           1536
10  2013     1     2       NA           1545        NA       NA           1910
# ℹ 8,245 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>8,255 flights do not have a departure time. These flights are also missing departure delays and arrival times. Since these flights never departed, they were never delayed and never arrived.</p>
</section>
<section id="section-5.3.1" class="level1">
<h1>Section 5.3.1</h1>
</section>
<section id="exercise-2-1" class="level1">
<h1>Exercise 2</h1>
<p>Sort flights to find the most delayed flights.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(flights, <span class="fu">desc</span>(dep_delay))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     9      641            900      1301     1242           1530
 2  2013     6    15     1432           1935      1137     1607           2120
 3  2013     1    10     1121           1635      1126     1239           1810
 4  2013     9    20     1139           1845      1014     1457           2210
 5  2013     7    22      845           1600      1005     1044           1815
 6  2013     4    10     1100           1900       960     1342           2211
 7  2013     3    17     2321            810       911      135           1020
 8  2013     6    27      959           1900       899     1236           2226
 9  2013     7    22     2257            759       898      121           1026
10  2013    12     5      756           1700       896     1058           2020
# ℹ 336,766 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Find the flights that left earliest.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(flights, dep_delay)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013    12     7     2040           2123       -43       40           2352
 2  2013     2     3     2022           2055       -33     2240           2338
 3  2013    11    10     1408           1440       -32     1549           1559
 4  2013     1    11     1900           1930       -30     2233           2243
 5  2013     1    29     1703           1730       -27     1947           1957
 6  2013     8     9      729            755       -26     1002            955
 7  2013    10    23     1907           1932       -25     2143           2143
 8  2013     3    30     2030           2055       -25     2213           2250
 9  2013     3     2     1431           1455       -24     1601           1631
10  2013     5     5      934            958       -24     1225           1309
# ℹ 336,766 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
</section>
<section id="exercise-4-1" class="level1">
<h1>Exercise 4</h1>
<p>Which flights traveled the farthest?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(flights, <span class="fu">desc</span>(distance))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      857            900        -3     1516           1530
 2  2013     1     2      909            900         9     1525           1530
 3  2013     1     3      914            900        14     1504           1530
 4  2013     1     4      900            900         0     1516           1530
 5  2013     1     5      858            900        -2     1519           1530
 6  2013     1     6     1019            900        79     1558           1530
 7  2013     1     7     1042            900       102     1620           1530
 8  2013     1     8      901            900         1     1504           1530
 9  2013     1     9      641            900      1301     1242           1530
10  2013     1    10      859            900        -1     1449           1530
# ℹ 336,766 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Which traveled the shortest?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(flights, distance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     7    27       NA            106        NA       NA            245
 2  2013     1     3     2127           2129        -2     2222           2224
 3  2013     1     4     1240           1200        40     1333           1306
 4  2013     1     4     1829           1615       134     1937           1721
 5  2013     1     4     2128           2129        -1     2218           2224
 6  2013     1     5     1155           1200        -5     1241           1306
 7  2013     1     6     2125           2129        -4     2224           2224
 8  2013     1     7     2124           2129        -5     2212           2224
 9  2013     1     8     2127           2130        -3     2304           2225
10  2013     1     9     2126           2129        -3     2217           2224
# ℹ 336,766 more rows
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
</section>
<section id="section-5.4.1" class="level1">
<h1>Section 5.4.1</h1>
</section>
<section id="exercise-2-2" class="level1">
<h1>Exercise 2</h1>
<p>What happens if you include the name of a variable multiple times in a select() call?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(flights, carrier)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 1
   carrier
   &lt;chr&gt;  
 1 UA     
 2 UA     
 3 AA     
 4 B6     
 5 DL     
 6 UA     
 7 B6     
 8 EV     
 9 B6     
10 AA     
# ℹ 336,766 more rows</code></pre>
</div>
</div>
<p>This is the result of the select statement for flights on carrier.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(flights, carrier, carrier)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 1
   carrier
   &lt;chr&gt;  
 1 UA     
 2 UA     
 3 AA     
 4 B6     
 5 DL     
 6 UA     
 7 B6     
 8 EV     
 9 B6     
10 AA     
# ℹ 336,766 more rows</code></pre>
</div>
</div>
<p>As shown above, including the same variable multiple times does not affect the results.</p>
</section>
<section id="exercise-3-2" class="level1">
<h1>Exercise 3</h1>
<p>What does the any_of() function do? Why might it be helpful in conjunction with this vector?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>, <span class="st">"dep_delay"</span>, <span class="st">"arr_delay"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The any_of() function allows you to specify all the variables in a vector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(flights, <span class="fu">any_of</span>(vars))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 5
    year month   day dep_delay arr_delay
   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1  2013     1     1         2        11
 2  2013     1     1         4        20
 3  2013     1     1         2        33
 4  2013     1     1        -1       -18
 5  2013     1     1        -6       -25
 6  2013     1     1        -4        12
 7  2013     1     1        -5        19
 8  2013     1     1        -3       -14
 9  2013     1     1        -3        -8
10  2013     1     1        -2         8
# ℹ 336,766 more rows</code></pre>
</div>
</div>
<p>When the any_of() function is applied to the previous vector in a select statement, it gives the results shown above without needing to type everything out again.</p>
</section>
<section id="section-5.5.2" class="level1">
<h1>Section 5.5.2</h1>
</section>
<section id="exercise-1-3" class="level1">
<h1>Exercise 1</h1>
<p>Currently dep_time and sched_dep_time are convenient to look at, but hard to compute with because they’re not really continuous numbers. Convert them to a more convenient representation of number of minutes since midnight.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>flights1 <span class="ot">&lt;-</span> flights</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">transmute</span>(flights1, <span class="at">dep_time =</span> <span class="dv">60</span> <span class="sc">*</span> dep_time <span class="sc">%/%</span> <span class="dv">100</span> <span class="sc">+</span> dep_time <span class="sc">%%</span> <span class="dv">100</span>, <span class="at">sched_dep_time =</span> <span class="dv">60</span> <span class="sc">*</span> sched_dep_time <span class="sc">%/%</span> <span class="dv">100</span> <span class="sc">+</span> sched_dep_time <span class="sc">%%</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 2
   dep_time sched_dep_time
      &lt;dbl&gt;          &lt;dbl&gt;
 1      317            315
 2      333            329
 3      342            340
 4      344            345
 5      354            360
 6      354            358
 7      355            360
 8      357            360
 9      357            360
10      358            360
# ℹ 336,766 more rows</code></pre>
</div>
</div>
<p>The above formula can be used to convert dep_time and sched_dep_time to minutes.</p>
</section>
<section id="exercise-3-3" class="level1">
<h1>Exercise 3</h1>
<p>Compare dep_time, sched_dep_time, and dep_delay. How would you expect those three numbers to be related?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>flights1 <span class="ot">&lt;-</span> flights</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">transmute</span>(flights1, dep_time, sched_dep_time, dep_delay, dep_time <span class="sc">-</span> sched_dep_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 4
   dep_time sched_dep_time dep_delay `dep_time - sched_dep_time`
      &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;                       &lt;int&gt;
 1      517            515         2                           2
 2      533            529         4                           4
 3      542            540         2                           2
 4      544            545        -1                          -1
 5      554            600        -6                         -46
 6      554            558        -4                          -4
 7      555            600        -5                         -45
 8      557            600        -3                         -43
 9      557            600        -3                         -43
10      558            600        -2                         -42
# ℹ 336,766 more rows</code></pre>
</div>
</div>
<p>You would expect dep_delay to always match dep_time - sched_dep_time. However, this is not the case because dep_time and sched_dep_time are not listed in minutes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>flights1 <span class="ot">&lt;-</span> flights</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">transmute</span>(flights1, <span class="at">dep_time =</span> <span class="dv">60</span> <span class="sc">*</span> dep_time <span class="sc">%/%</span> <span class="dv">100</span> <span class="sc">+</span> dep_time <span class="sc">%%</span> <span class="dv">100</span>, <span class="at">sched_dep_time =</span> <span class="dv">60</span> <span class="sc">*</span> sched_dep_time <span class="sc">%/%</span> <span class="dv">100</span> <span class="sc">+</span> sched_dep_time <span class="sc">%%</span> <span class="dv">100</span>, dep_delay, dep_time <span class="sc">-</span> sched_dep_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 4
   dep_time sched_dep_time dep_delay `dep_time - sched_dep_time`
      &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;                       &lt;dbl&gt;
 1      317            315         2                           2
 2      333            329         4                           4
 3      342            340         2                           2
 4      344            345        -1                          -1
 5      354            360        -6                          -6
 6      354            358        -4                          -4
 7      355            360        -5                          -5
 8      357            360        -3                          -3
 9      357            360        -3                          -3
10      358            360        -2                          -2
# ℹ 336,766 more rows</code></pre>
</div>
</div>
<p>The above formula fixes this issue by converting dep_time and sched_dep_time to minutes.</p>
</section>
<section id="section-5.6.7" class="level1">
<h1>Section 5.6.7</h1>
</section>
<section id="exercise-3-4" class="level1">
<h1>Exercise 3</h1>
<p>Our definition of cancelled flights (is.na(dep_delay) | is.na(arr_delay) ) is slightly suboptimal. Why? Which is the most important column?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">reframe</span>(flights, <span class="fu">is.na</span>(dep_delay) <span class="sc">|</span> <span class="fu">is.na</span>(arr_delay))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 1
   `is.na(dep_delay) | is.na(arr_delay)`
   &lt;lgl&gt;                                
 1 FALSE                                
 2 FALSE                                
 3 FALSE                                
 4 FALSE                                
 5 FALSE                                
 6 FALSE                                
 7 FALSE                                
 8 FALSE                                
 9 FALSE                                
10 FALSE                                
# ℹ 336,766 more rows</code></pre>
</div>
</div>
<p>It is unnecessary to check if both dep_delay and arr_delay are null because if dep_delay is null then arr_delay will also be null since a flight that never departed cannot arrive.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">reframe</span>(flights, <span class="fu">is.na</span>(dep_delay))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 × 1
   `is.na(dep_delay)`
   &lt;lgl&gt;             
 1 FALSE             
 2 FALSE             
 3 FALSE             
 4 FALSE             
 5 FALSE             
 6 FALSE             
 7 FALSE             
 8 FALSE             
 9 FALSE             
10 FALSE             
# ℹ 336,766 more rows</code></pre>
</div>
</div>
<p>It is only necessary to check if dep_delay is null as this will give the same result.</p>
</section>
<section id="exercise-6" class="level1">
<h1>Exercise 6</h1>
<p>What does the sort argument to count() do. When might you use it?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> <span class="fu">count</span>(dest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 105 × 2
   dest      n
   &lt;chr&gt; &lt;int&gt;
 1 ABQ     254
 2 ACK     265
 3 ALB     439
 4 ANC       8
 5 ATL   17215
 6 AUS    2439
 7 AVL     275
 8 BDL     443
 9 BGR     375
10 BHM     297
# ℹ 95 more rows</code></pre>
</div>
</div>
<p>Count will default to sorting by alphabetical order.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> <span class="fu">count</span>(dest, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 105 × 2
   dest      n
   &lt;chr&gt; &lt;int&gt;
 1 ORD   17283
 2 ATL   17215
 3 LAX   16174
 4 BOS   15508
 5 MCO   14082
 6 CLT   14064
 7 SFO   13331
 8 FLL   12055
 9 MIA   11728
10 DCA    9705
# ℹ 95 more rows</code></pre>
</div>
</div>
<p>After adding the “sort = TRUE” argument, count will sort in numerical order. This is useful if you want to see what the most common occurrences are.</p>
</section>
<section id="section-5.7.1" class="level1">
<h1>Section 5.7.1</h1>
</section>
<section id="exercise-2-3" class="level1">
<h1>Exercise 2</h1>
<p>Which plane (tailnum) has the worst on-time record?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> <span class="fu">filter</span>(arr_delay <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>(tailnum, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,874 × 2
   tailnum     n
   &lt;chr&gt;   &lt;int&gt;
 1 N725MQ    215
 2 N228JB    192
 3 N258JB    191
 4 N713MQ    185
 5 N711MQ    184
 6 N723MQ    180
 7 N531MQ    174
 8 N190JB    173
 9 N353JB    173
10 N534MQ    172
# ℹ 3,864 more rows</code></pre>
</div>
</div>
<p>The plane with tailnum N725MQ has the worst on-time record.</p>
</section>
<section id="exercise-3-5" class="level1">
<h1>Exercise 3</h1>
<p>What time of day should you fly if you want to avoid delays as much as possible?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> <span class="fu">filter</span>(dep_delay <span class="sc">&lt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">count</span>(sched_dep_time, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,008 × 2
   sched_dep_time     n
            &lt;int&gt; &lt;int&gt;
 1            600  5097
 2            700  3760
 3            630  3575
 4            900  3399
 5           1200  3090
 6            800  2856
 7           1700  2305
 8           1300  2289
 9           1000  2138
10           1600  2107
# ℹ 998 more rows</code></pre>
</div>
</div>
<p>You should fly at 6am if you want to avoid delays as much as possible.</p>
</section>
<section id="midwest-demographics" class="level1">
<h1>Midwest Demographics</h1>
<p>This data set contains data on the demographics of each county in five midwestern states: Illinois, Indiana, Michigan, Ohio, and Wisconsin. The following table shows the top ten most populous counties in these states along with what state they are in, their population, and whether or not they are in a metropolitan area.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="fu">arrange</span>(midwest, <span class="fu">desc</span>(poptotal)), county, state, poptotal, inmetro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 437 × 4
   county    state poptotal inmetro
   &lt;chr&gt;     &lt;chr&gt;    &lt;int&gt;   &lt;int&gt;
 1 COOK      IL     5105067       1
 2 WAYNE     MI     2111687       1
 3 CUYAHOGA  OH     1412140       1
 4 OAKLAND   MI     1083592       1
 5 FRANKLIN  OH      961437       1
 6 MILWAUKEE WI      959275       1
 7 HAMILTON  OH      866228       1
 8 MARION    IN      797159       1
 9 DU PAGE   IL      781666       1
10 MACOMB    MI      717400       1
# ℹ 427 more rows</code></pre>
</div>
</div>
<p>When looking at this plot, it is clear that the most populated and most densely populated counties are all in metropolitan areas. This makes sense because metropolitan areas are centered around large cities with large populations. If a county is not close enough to one of these cities to be in a metropolitan area, it will probably not have a large population. To get a closer look at this, the following table shows these same counties along with their county seat and what metropolitan and combined statistical areas they are in.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>County</th>
<th>County Seat</th>
<th>Metro Area</th>
<th>CSA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cook</td>
<td>Chicago</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="even">
<td>Wayne</td>
<td>Detroit</td>
<td>Detroit</td>
<td>Detroit</td>
</tr>
<tr class="odd">
<td>Cuyahoga</td>
<td>Cleveland</td>
<td>Cleveland</td>
<td>Cleveland</td>
</tr>
<tr class="even">
<td>Oakland</td>
<td>Pontiac</td>
<td>Detroit</td>
<td>Detroit</td>
</tr>
<tr class="odd">
<td>Franklin</td>
<td>Columbus</td>
<td>Columbus</td>
<td>Columbus</td>
</tr>
<tr class="even">
<td>Milwaukee</td>
<td>Milwaukee</td>
<td>Milwaukee</td>
<td>Milwaukee</td>
</tr>
<tr class="odd">
<td>Hamilton</td>
<td>Cincinnati</td>
<td>Cincinnati</td>
<td>Cincinnati</td>
</tr>
<tr class="even">
<td>Marion</td>
<td>Indianapolis</td>
<td>Indianapolis</td>
<td>Indianapolis</td>
</tr>
<tr class="odd">
<td>Du Page</td>
<td>Wheaton</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="even">
<td>Macomb</td>
<td>Mt. Clemens</td>
<td>Detroit</td>
<td>Detroit</td>
</tr>
</tbody>
</table>
<p>As shown in the above table, half of the ten most populous counties in these states fall into either the Chicago or Detroit Metropolitan Areas. This makes sense as these are the two most populous metropolitan areas in the region. However, the other half of these counties each falls into a different metropolitan area. To get a closer look at this divide, we will look at each of these five states individually.</p>
</section>
<section id="illinois" class="level1">
<h1>Illinois</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="fu">arrange</span>(<span class="fu">filter</span>(midwest, state <span class="sc">==</span> <span class="st">"IL"</span>), <span class="fu">desc</span>(poptotal)), county, poptotal, inmetro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 102 × 3
   county    poptotal inmetro
   &lt;chr&gt;        &lt;int&gt;   &lt;int&gt;
 1 COOK       5105067       1
 2 DU PAGE     781666       1
 3 LAKE        516418       1
 4 WILL        357313       1
 5 KANE        317471       1
 6 ST CLAIR    262852       1
 7 Winnebago   252913       1
 8 MADISON     249238       1
 9 MCHENRY     183241       1
10 PEORIA      182827       1
# ℹ 92 more rows</code></pre>
</div>
</div>
<p>As shown in the above table, the ten most populous counties in Illinois are all in a metropolitan area. A breakdown of these ten counties can be seen in the following table.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>County</th>
<th>County Seat</th>
<th>Metro Area</th>
<th>CSA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cook</td>
<td>Chicago</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="even">
<td>Du Page</td>
<td>Wheaton</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="odd">
<td>Lake</td>
<td>Waukegan</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="even">
<td>Will</td>
<td>Joliet</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="odd">
<td>Kane</td>
<td>Geneva</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="even">
<td>St.&nbsp;Clair</td>
<td>Belleville</td>
<td>St.&nbsp;Louis</td>
<td>St.&nbsp;Louis</td>
</tr>
<tr class="odd">
<td>Winnebago</td>
<td>Rockford</td>
<td>Rockford</td>
<td>Rockford</td>
</tr>
<tr class="even">
<td>Madison</td>
<td>Edwardsville</td>
<td>St.&nbsp;Louis</td>
<td>St.&nbsp;Louis</td>
</tr>
<tr class="odd">
<td>McHenry</td>
<td>Woodstock</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="even">
<td>Peoria</td>
<td>Peoria</td>
<td>Peoria</td>
<td>Peoria</td>
</tr>
</tbody>
</table>
<p>As shown in the above table, six of the ten most populous counties in Illinois, including all of the top five, are a part of the Chicago Metropolitan Area. These six counties, along with three more in other states, make Chicago the most common metropolitan area among the fifty counties listed. Interestingly, two of the top ten most populous counties in Illinois are a part of the St.&nbsp;Louis Metropolitan Area. These are the only two counties in the fifty counties listed to be a part of a metropolitan area anchored outside of these five states. This makes sense because St.&nbsp;Louis borders Illinois and is larger than every metropolitan area in the region besides the previously mentioned Chicago and Detroit Metropolitan Areas.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="illinois2.png" class="img-fluid figure-img"></p>
<figcaption>Illinois Counties</figcaption>
</figure>
</div>
</section>
<section id="indiana" class="level1">
<h1>Indiana</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="fu">arrange</span>(<span class="fu">filter</span>(midwest, state <span class="sc">==</span> <span class="st">"IN"</span>), <span class="fu">desc</span>(poptotal)), county, poptotal, inmetro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 92 × 3
   county      poptotal inmetro
   &lt;chr&gt;          &lt;int&gt;   &lt;int&gt;
 1 MARION        797159       1
 2 LAKE          475594       1
 3 ALLEN         300836       1
 4 ST JOSEPH     247052       1
 5 VANDERBURGH   165058       1
 6 ELKHART       156198       1
 7 MADISON       130669       1
 8 TIPPECANOE    130598       1
 9 PORTER        128932       1
10 DELAWARE      119659       1
# ℹ 82 more rows</code></pre>
</div>
</div>
<p>As shown in the above table, the ten most populous counties in Indiana are all in a metropolitan area. A breakdown of these ten counties can be seen in the following table.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>County</th>
<th>County Seat</th>
<th>Metro Area</th>
<th>CSA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Marion</td>
<td>Indianapolis</td>
<td>Indianapolis</td>
<td>Indianapolis</td>
</tr>
<tr class="even">
<td>Lake</td>
<td>Crown Point</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="odd">
<td>Allen</td>
<td>Fort Wayne</td>
<td>Fort Wayne</td>
<td>Fort Wayne</td>
</tr>
<tr class="even">
<td>St.&nbsp;Joseph</td>
<td>South Bend</td>
<td>South Bend</td>
<td>South Bend</td>
</tr>
<tr class="odd">
<td>Vanderburgh</td>
<td>Evansville</td>
<td>Evansville</td>
<td>Evansville</td>
</tr>
<tr class="even">
<td>Elkhart</td>
<td>Goshen</td>
<td>Elkhart</td>
<td>South Bend</td>
</tr>
<tr class="odd">
<td>Madison</td>
<td>Anderson</td>
<td>Indianapolis</td>
<td>Indianapolis</td>
</tr>
<tr class="even">
<td>Tippecanoe</td>
<td>Lafayette</td>
<td>Lafayette</td>
<td>Lafayette</td>
</tr>
<tr class="odd">
<td>Porter</td>
<td>Valparaiso</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="even">
<td>Delaware</td>
<td>Muncie</td>
<td>Muncie</td>
<td>Indianapolis</td>
</tr>
</tbody>
</table>
<p>As shown in the table above, two of the ten most populous counties in Indiana are a part of the Indianapolis Metropolitan Area with a third being included in the Indianapolis Combined Statistical Area. This makes sense as Indianapolis is the capital and largest city in Indiana. The Chicago Metropolitan Area also includes two of the ten most populous counties in Indiana despite being anchored in a different state. Although none of the other counties share a metropolitan area, St.&nbsp;Joseph and Elkhart counties do share the South Bend Combined Statistical Area.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="indiana2.png" class="img-fluid figure-img"></p>
<figcaption>Indiana Counties</figcaption>
</figure>
</div>
</section>
<section id="michigan" class="level1">
<h1>Michigan</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="fu">arrange</span>(<span class="fu">filter</span>(midwest, state <span class="sc">==</span> <span class="st">"MI"</span>), <span class="fu">desc</span>(poptotal)), county, poptotal, inmetro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 83 × 3
   county    poptotal inmetro
   &lt;chr&gt;        &lt;int&gt;   &lt;int&gt;
 1 WAYNE      2111687       1
 2 OAKLAND    1083592       1
 3 MACOMB      717400       1
 4 KENT        500631       1
 5 GENESEE     430459       1
 6 WASHTENAW   282937       1
 7 INGHAM      281912       1
 8 KALAMAZOO   223411       1
 9 SAGINAW     211946       1
10 OTTAWA      187768       1
# ℹ 73 more rows</code></pre>
</div>
</div>
<p>As shown in the above table, the ten most populous counties in Michigan are all in a metropolitan area. A breakdown of these ten counties can be seen in the following table.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>County</th>
<th>County Seat</th>
<th>Metro Area</th>
<th>CSA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Wayne</td>
<td>Detroit</td>
<td>Detroit</td>
<td>Detroit</td>
</tr>
<tr class="even">
<td>Oakland</td>
<td>Pontiac</td>
<td>Detroit</td>
<td>Detroit</td>
</tr>
<tr class="odd">
<td>Macomb</td>
<td>Mt. Clemens</td>
<td>Detroit</td>
<td>Detroit</td>
</tr>
<tr class="even">
<td>Kent</td>
<td>Grand Rapids</td>
<td>Grand Rapids</td>
<td>Grand Rapids</td>
</tr>
<tr class="odd">
<td>Genesee</td>
<td>Flint</td>
<td>Flint</td>
<td>Detroit</td>
</tr>
<tr class="even">
<td>Washtenaw</td>
<td>Ann Arbor</td>
<td>Ann Arbor</td>
<td>Detroit</td>
</tr>
<tr class="odd">
<td>Ingham</td>
<td>Mason</td>
<td>Lansing</td>
<td>Lansing</td>
</tr>
<tr class="even">
<td>Kalamazoo</td>
<td>Kalamazoo</td>
<td>Kalamazoo</td>
<td>Kalamazoo</td>
</tr>
<tr class="odd">
<td>Saginaw</td>
<td>Saginaw</td>
<td>Saginaw</td>
<td>Saginaw</td>
</tr>
<tr class="even">
<td>Ottawa</td>
<td>Grand Haven</td>
<td>Grand Rapids</td>
<td>Grand Rapids</td>
</tr>
</tbody>
</table>
<p>As shown in the table above, the top three most populous counties in Michigan are a part of the Detroit Metropolitan Area with two more being included in the Detroit Metropolitan Area. This makes sense as Detroit is the largest city in the state. The Grand Rapids Metropolitan Area also includes two of the ten most populous counties in Michigan.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="michigan2.png" class="img-fluid figure-img"></p>
<figcaption>Michigan Counties</figcaption>
</figure>
</div>
</section>
<section id="ohio" class="level1">
<h1>Ohio</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="fu">arrange</span>(<span class="fu">filter</span>(midwest, state <span class="sc">==</span> <span class="st">"OH"</span>), <span class="fu">desc</span>(poptotal)), county, poptotal, inmetro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 88 × 3
   county     poptotal inmetro
   &lt;chr&gt;         &lt;int&gt;   &lt;int&gt;
 1 CUYAHOGA    1412140       1
 2 FRANKLIN     961437       1
 3 HAMILTON     866228       1
 4 MONTGOMERY   573809       1
 5 SUMMIT       514990       1
 6 LUCAS        462361       1
 7 STARK        367585       1
 8 BUTLER       291479       1
 9 LORAIN       271126       1
10 MAHONING     264806       1
# ℹ 78 more rows</code></pre>
</div>
</div>
<p>As shown in the above table, the ten most populous counties in Ohio are all in a metropolitan area. A breakdown of these ten counties can be seen in the following table.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>County</th>
<th>County Seat</th>
<th>Metro Area</th>
<th>CSA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cuyahoga</td>
<td>Cleveland</td>
<td>Cleveland</td>
<td>Cleveland</td>
</tr>
<tr class="even">
<td>Franklin</td>
<td>Columbus</td>
<td>Columbus</td>
<td>Columbus</td>
</tr>
<tr class="odd">
<td>Hamilton</td>
<td>Cincinnati</td>
<td>Cincinnati</td>
<td>Cincinnati</td>
</tr>
<tr class="even">
<td>Montgomery</td>
<td>Dayton</td>
<td>Dayton</td>
<td>Dayton</td>
</tr>
<tr class="odd">
<td>Summit</td>
<td>Akron</td>
<td>Akron</td>
<td>Cleveland</td>
</tr>
<tr class="even">
<td>Lucas</td>
<td>Toledo</td>
<td>Toledo</td>
<td>Toledo</td>
</tr>
<tr class="odd">
<td>Stark</td>
<td>Canton</td>
<td>Canton</td>
<td>Cleveland</td>
</tr>
<tr class="even">
<td>Butler</td>
<td>Hamilton</td>
<td>Cincinnati</td>
<td>Cincinnati</td>
</tr>
<tr class="odd">
<td>Lorain</td>
<td>Elyria</td>
<td>Cleveland</td>
<td>Cleveland</td>
</tr>
<tr class="even">
<td>Mahoning</td>
<td>Youngstown</td>
<td>Youngstown</td>
<td>Youngstown</td>
</tr>
</tbody>
</table>
<p>As shown in the table above, two of the ten most populous counties in Ohio are a part of the Cleveland Metropolitan Area with two more being included in the Cleveland Combined Statistical Area. This makes sense as the Cleveland Combined Statistical Area is the largest combined statistical area in Ohio. The Cincinnati Metropolitan Area also includes two of the ten most populous counties in Ohio.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ohio2.png" class="img-fluid figure-img"></p>
<figcaption>Ohio Counties</figcaption>
</figure>
</div>
</section>
<section id="wisconsin" class="level1">
<h1>Wisconsin</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(<span class="fu">arrange</span>(<span class="fu">filter</span>(midwest, state <span class="sc">==</span> <span class="st">"WI"</span>), <span class="fu">desc</span>(poptotal)), county, poptotal, inmetro)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 72 × 3
   county    poptotal inmetro
   &lt;chr&gt;        &lt;int&gt;   &lt;int&gt;
 1 MILWAUKEE   959275       1
 2 DANE        367085       1
 3 WAUKESHA    304715       1
 4 BROWN       194594       1
 5 RACINE      175034       1
 6 OUTAGAMIE   140510       1
 7 WINNEBAGO   140320       1
 8 ROCK        139510       1
 9 KENOSHA     128181       1
10 MARATHON    115400       1
# ℹ 62 more rows</code></pre>
</div>
</div>
<p>As shown in the above table, the ten most populous counties in Wisconsin are all in a metropolitan area. A breakdown of these ten counties can be seen in the following table.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>County</th>
<th>County Seat</th>
<th>Metro Area</th>
<th>CSA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Milwaukee</td>
<td>Milwaukee</td>
<td>Milwaukee</td>
<td>Milwaukee</td>
</tr>
<tr class="even">
<td>Dane</td>
<td>Madison</td>
<td>Madison</td>
<td>Madison</td>
</tr>
<tr class="odd">
<td>Waukesha</td>
<td>Waukesha</td>
<td>Milwaukee</td>
<td>Milwaukee</td>
</tr>
<tr class="even">
<td>Brown</td>
<td>Green Bay</td>
<td>Green Bay</td>
<td>Green Bay</td>
</tr>
<tr class="odd">
<td>Racine</td>
<td>Racine</td>
<td>Racine</td>
<td>Milwaukee</td>
</tr>
<tr class="even">
<td>Outagamie</td>
<td>Appleton</td>
<td>Appleton</td>
<td>Appleton</td>
</tr>
<tr class="odd">
<td>Winnebago</td>
<td>Oshkosh</td>
<td>Oshkosh</td>
<td>Appleton</td>
</tr>
<tr class="even">
<td>Rock</td>
<td>Janesville</td>
<td>Janesville</td>
<td>Madison</td>
</tr>
<tr class="odd">
<td>Kenosha</td>
<td>Kenosha</td>
<td>Chicago</td>
<td>Chicago</td>
</tr>
<tr class="even">
<td>Marathon</td>
<td>Wausau</td>
<td>Wausau</td>
<td>Wausau</td>
</tr>
</tbody>
</table>
<p>As shown in the table above, two of the ten most populous counties in Wisconsin are a part of the Milwaukee Metropolitan Area with a third being included in the Milwaukee Combined Statistical Area. This makes sense as Milwaukee is the largest city in the state. Although none of the other counties share a metropolitan area, the Madison and Appleton Combined Statistical Areas each include two of the ten most populous counties in Wisconsin. Interestingly, Kenosha County is a part of the Chicago Metropolitan Area which makes sense as it borders Illinois.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="wisconsin2.png" class="img-fluid figure-img"></p>
<figcaption>Wisconsin Counties</figcaption>
</figure>
</div>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Based on this data, it is safe to say that the most populous counties tend to be in the largest metropolitan areas. This is especially evident in Illinois and Michigan which are dominated by the Chicago and Detroit Metropolitan Areas respectively. However, the other states included here have more spread out populations. It is interesting to see this divide between different states, and it could be worth looking into how this plays out in more states.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>